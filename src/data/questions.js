/**
 * Question bank organized by intimacy level
 * Level 5 = Most intimate (Core Identity)
 * Level 1 = Least intimate (Biographical)
 */

export const QUESTIONS = {
  5: [
    // Core Identity/Sense of Self - The deepest questions about who you are
    "What would you sacrifice everything for?",
    "What do you believe you're meant to do in life?",
    "If you could only be remembered for one thing, what would it be?",
    "Who are you when no one is watching?",
    "What part of yourself do you most struggle to accept?",
    "What's the real reason you do what you do?",
    "What truth about yourself have you been avoiding?",
    "What would make your life feel complete?",
    "If you were to die this evening with no opportunity to communicate with anyone, what would you most regret not having told someone?",
    "What do you know you need to change but haven't?",
    "If you could restart your life, what would you do differently?",
    "What makes you feel most alive?",
    "What's the most important thing no one knows about you?",
    "What part of yourself do you hide from everyone?",
    "How do you define what makes something 'right' or 'wrong'?",
    "When you're alone with your thoughts, who do you think you really are?",
    "What would you do if you knew you couldn't fail?",
    "What part of you died that you wish you could bring back?",
    "If a crystal ball could tell you the truth about yourself, your life, or the future, what would you want to know?",
    "What scares you most about the future?",
    "What do you need to let go of?",
    "What's the hardest choice you've ever had to make?",
    "If you knew that in one year you would die suddenly, would you change anything about the way you are now living?",
    "What do you fear most about being truly known?",
    "What truth are you running from?"
  ],

  4: [
    // Emotions and Vulnerabilities - Raw feelings and private struggles
    "When did you last cry alone?",
    "What emotion do you struggle to express?",
    "What makes you feel inadequate?",
    "When do you feel most misunderstood?",
    "What childhood wound still affects you?",
    "What makes you feel unlovable?",
    "When did you feel most betrayed?",
    "What insecurity do you try to hide?",
    "What makes you feel powerless?",
    "What failure still haunts you?",
    "What makes you feel ashamed?",
    "What fear controls your decisions?",
    "When did you last feel completely safe?",
    "What emotion do you wish you could unfeel?",
    "When did you feel most loved?",
    "What makes you feel most grateful?",
    "What's the most vulnerable you've ever felt?",
    "What are you most afraid of?",
    "When do you feel most insecure?",
    "What do you wish people knew about you that they don't?",
    "Share with your partner an embarrassing moment in your life",
    "When did you last cry in front of another person? By yourself?",
    "What makes you feel most alone?",
    "When did you feel most hurt by someone you loved?",
    "What rejection hurt you the most?",
    "What compliment do you secretly crave?",
    "When do you feel like an imposter?",
    "What anger are you holding onto?",
    "What sadness are you carrying?",
    "If you could erase one memory, which would it be and why?"
  ],

  3: [
    // Personal Experiences - Stories that shaped you
    "Take four minutes and tell your partner your life story in as much detail as possible",
    "What's your most treasured memory?",
    "What's your most terrible memory?",
    "What belief have you completely reversed?",
    "What do you value most in other people?",
    "What does friendship mean to you?",
    "What roles do love and affection play in your life?",
    "How close and warm is your family? Do you feel your childhood was happier than most other people's?",
    "If you could change anything about the way you were raised, what would it be?",
    "What is the greatest accomplishment of your life?",
    "Is there something that you've dreamed of doing for a long time? Why haven't you done it?",
    "What do you regret not doing when you had the chance?",
    "What's the most painful truth you've ever had to accept?",
    "Tell me about a time you failed at something important",
    "What's a memory that shaped you?",
    "Have you ever had your heart broken?",
    "What's the craziest thing that's happened to you?",
    "Of all the people in your family, whose death would you find most disturbing? Why?",
    "Your house catches fire. After saving loved ones and pets, you can save one item. What would it be and why?",
    "What's the most spontaneous thing you've done?",
    "What decision do you regret the most?",
    "What's the most trouble you've been in?",
    "When did you realize you'd changed?",
    "What's your proudest accomplishment?",
    "What's the best advice you've ever received?"
  ],

  2: [
    // Preferences and Opinions - Your taste and worldview
    "Given the choice of anyone in the world, whom would you want as a dinner guest?",
    "Would you like to be famous? In what way?",
    "What would constitute a 'perfect' day for you?",
    "If you could wake up tomorrow having gained any one quality or ability, what would it be?",
    "What's your most controversial opinion?",
    "What do you think happens after we die?",
    "Do you believe people can truly change?",
    "What's your definition of success?",
    "What do you think is the meaning of life?",
    "Do you believe in soul mates?",
    "What do you think makes a good person?",
    "Is happiness a choice or a circumstance?",
    "What's your relationship with religion/spirituality?",
    "Do you believe in fate or free will?",
    "What do you think is the biggest problem in the world?",
    "What would you change about the world?",
    "Do you believe humans are inherently good or bad?",
    "What's more important: truth or kindness?",
    "What, if anything, is too serious to be joked about?",
    "What's your biggest pet peeve?",
    "What habit would you never give up?",
    "What's your guilty pleasure?",
    "What's something you used to believe but don't anymore?",
    "What's your relationship deal-breaker?",
    "What's something you're afraid to try?",
    "What's something you pretend to like but actually hate?",
    "What's your most irrational fear?",
    "What's something you're secretly competitive about?",
    "What's your controversial food opinion?",
    "If you were able to live to the age of 90 and retain either the mind or body of a 30-year-old for the last 60 years of your life, which would you want?"
  ],

  1: [
    // Biographical/Factual - Basic information
    "What's your job?",
    "Where are you from?",
    "How many siblings do you have?",
    "What do you do for fun?",
    "Where did you go to school?",
    "Do you have any pets?",
    "Where do you live?",
    "What language(s) do you speak?",
    "When did you last sing to yourself? To someone else?",
    "Before making a telephone call, do you ever rehearse what you are going to say? Why?",
    "What's your favorite food?",
    "What's your favorite movie?",
    "What's your favorite color?",
    "What's your favorite song?",
    "What's your favorite season?",
    "Are you a morning person or night owl?",
    "What's your favorite book?",
    "Coffee or tea?",
    "What's your favorite hobby?",
    "What's your favorite TV show?",
    "What kind of music do you like?",
    "What's your zodiac sign?",
    "What's your go-to restaurant?",
    "What's your favorite sport?",
    "Beach or mountains?",
    "What's your favorite vacation spot?",
    "What's your favorite ice cream flavor?",
    "What's your favorite holiday?",
    "Do you have a secret hunch about how you will die?",
    "For what in your life do you feel most grateful?"
  ]
};

/**
 * Get a random question from a specific level
 *
 * @param {number} level - The question level (1-5)
 * @param {Array} exclude - Questions to exclude from selection
 * @returns {string} A random question from the level
 */
export function getRandomQuestion(level, exclude = []) {
  const questions = QUESTIONS[level] || QUESTIONS[1];
  const available = questions.filter(q => !exclude.includes(q));

  if (available.length === 0) {
    // If all questions have been used, reset and use any question
    return questions[Math.floor(Math.random() * questions.length)];
  }

  return available[Math.floor(Math.random() * available.length)];
}

/**
 * Get multiple random questions from a specific level
 *
 * @param {number} level - The question level (1-5)
 * @param {number} count - Number of questions to return (default 5)
 * @param {Array} exclude - Questions to exclude from selection
 * @returns {Array<string>} Array of random questions from the level
 */
export function getRandomQuestions(level, count = 5, exclude = []) {
  const questions = QUESTIONS[level] || QUESTIONS[1];
  const available = questions.filter(q => !exclude.includes(q));

  // If not enough available questions, use all questions
  const pool = available.length >= count ? available : questions;

  // Use Fisher-Yates shuffle algorithm for proper randomization
  const shuffled = [...pool];
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled.slice(0, Math.min(count, shuffled.length));
}